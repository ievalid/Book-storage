<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Book Management System</title>

    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">

</head>
<body>



<div class="container my-2">

    <form class="form-inline" th:method="get">
        <div >
            <input class="form-control " type="text" name="search_term" placeholder="Enter barcode" th:value="${search_term}">
            <button type="submit" class="btn btn-primary"> Search</button>
        </div>
    </form>
    <hr>


    <h2 th:unless="${#lists.isEmpty(bookInfo)}">Book information</h2>

        <div th:each="b : ${bookInfo}">
            <p><b>Name:</b> [[${b.name}]]</p>
            <p><b>Author:</b> [[${b.author}]]</p>
            <p><b>Barcode:</b> [[${b.barcode}]]</p>
            <p><b>Quantity:</b> [[${b.quantity}]]</p>
            <p><b>Price per unit:</b> [[${b.price}]]</p>
            <p th:if="${b.releaseYear!=0}"><b>Release Year:</b> [[${b.releaseYear}]]</p>
            <p th:if="${b.scienceIndex!=0}"><b>Science index:</b> [[${b.scienceIndex}]]</p>
            <hr>
            <p><b>Total price: </b>[[${b.totalPrice}]]</p>
            <hr>
                <div>
                    <a th:href="@{books/update/{id}(id=${b.id})}" class="btn btn-warning">Update</a>
                    <a th:href="@{books/delete/{id}(id=${b.id})}" class="btn btn-danger">Delete</a>
                </div>
        </div>
    <hr>

    <h3 th:if="${#lists.isEmpty(bookInfo)}">Book not found</h3>


    <p>
        <a class="btn btn-primary" role="button" th:href="@{/books}"><i class="fas fa-angle-left" aria-hidden="true"></i> Back to all books</a>
    </p>
</div>
</body>
</html>

